Test ran at 2024-06-18 13:45:16.215574+00:00

SOLUTION:
aflex=1.6.0: An Ada Lexical Analyzer Generator
Origin: commit b3c21d99666ba433071cd423dfeaab57b4a936b5 from https://github.com/Ada-France/aflex.git
Properties:
   Author: John Self
   Configuration: no modifiers
   Description: An Ada Lexical Analyzer Generator
   Environment: MANPATH=${CRATE_ROOT}/man:${MANPATH}
   Environment: PATH=${CRATE_ROOT}/bin:${PATH}
   Executable: aflex
   GPR Scenario: AFLEX_BUILD := distrib | debug | optimize | profile | coverage
   License: Unlicense
   Long_Description: Aflex is a lexical analyzer generating tool similar to the Unix tool lex.

The first implementation was written by John Self of the Arcadia project
at the University of California, Irvine.  The last version that was released
appeared to be the aflex 1.4a released in 1994.

Aflex was used and improved by P2Ada, the Pascal to Ada translator.
This version of Aflex is derived from the P2Ada aflex implementation
released in August 2010.

This version brings a number of improvements:

- Aflex generates the spec and body files as separate files so that
  there is no need to use gnatchop to split the DFA and IO files.
- Aflex uses the lex file name to generate the package name and
  it supports child package with the `%unit` directive.
- Aflex supports reentrant scanner through the use of `%option reentrant`,
  `%yyvar` and `%yydecl` directives.


   Maintainer: Stephane.Carrez@gmail.com
   Maintainers_Logins: stcarrez
   Name: aflex
   Tag: parser
   Tag: generator
   Tag: grammar
   Version: 1.6
   Website: https://github.com/Ada-France/aflex


LOG:
Note: Deploying aflex=1.6.0...
Note: Building aflex/aflex.gpr...
Setup
   [mkdir]        object directory for project aflex
   [mkdir]        exec directory for project aflex
Compile
   [Ada]          aflex.adb
aflex.adb:66:38: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          dfa.adb
   [Ada]          gen.adb
   [Ada]          main_body.adb
main_body.adb:25:52: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          misc.adb
gen.adb:25:17: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          misc_defs.adb
dfa.ads:25:06: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          template_manager.adb
misc_defs.ads:29:06: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          command_line_interface.adb
   [Ada]          ecs.adb
misc.adb:31:31: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
misc.ads:28:26: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          external_file_manager.adb
   [Ada]          int_io.ads
external_file_manager.ads:27:06: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          parse_tokens.ads
   [Ada]          parser.adb
int_io.ads:24:06: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          skeleton_manager.adb
   [Ada]          tstring.ads
   [Ada]          scanner.adb
parser.adb:2:52: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
parser.adb:85:10: warning: variable "value_stack" is never read and never assigned [-gnatwu]
parser.adb:86:10: warning: variable "state_stack" is never read and never assigned [-gnatwu]
parser.adb:89:10: warning: variable "action" is never read and never assigned [-gnatwu]
parser.adb:90:10: warning: variable "rule_id" is never read and never assigned [-gnatwu]
parser.adb:98:10: warning: variable "index" is never read and never assigned [-gnatwu]
   [Ada]          ccl.adb
   [Ada]          nfa.adb
ccl.ads:24:17: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          tblcmp.adb
nfa.adb:26:14: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
   [Ada]          ascan_dfa.adb
   [Ada]          template_manager-templates.ads
   [Ada]          aflex_scanner.adb
   [Ada]          parse_goto.ads
   [Ada]          parse_shift_reduce.ads
   [Ada]          sym.adb
   [Ada]          vstrings.adb
   [Ada]          ascan_io.adb
vstrings.ads:161:06: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
sym.adb:25:17: warning: renamed predefined unit is an obsolescent feature (RM J.1) [-gnatwj]
Bind
   [gprbind]      aflex.bexch
   [Ada]          aflex.ali
Link
   [link]         aflex.adb
-macosx_version_min has been renamed to -macos_version_min
ld: warning: -s is obsolete
0  0x100adff43  __assert_rtn + 64
1  0x1009e1f43  ld::AtomPlacement::findAtom(unsigned char, unsigned long long, ld::AtomPlacement::AtomLoc const*&, long long&) const + 1411
2  0x1009fe431  ld::InputFiles::SliceParser::parseObjectFile(mach_o::Header const*) const + 19745
3  0x100a0eb71  ld::InputFiles::parseAllFiles(void (ld::AtomFile const*) block_pointer)::$_7::operator()(unsigned long, ld::FileInfo const&) const + 657
4  0x7ff8179cadef  _dispatch_client_callout2 + 8
5  0x7ff8179dc547  _dispatch_apply_invoke3 + 431
6  0x7ff8179cadbc  _dispatch_client_callout + 8
7  0x7ff8179cc04e  _dispatch_once_callout + 20
8  0x7ff8179dca9b  _dispatch_apply_invoke_and_wait + 278
9  0x7ff8179dbcf8  _dispatch_apply_with_attr_f + 1225
10  0x7ff8179dbeaf  dispatch_apply + 45
11  0x100aa7972  ld::AtomFileConsolidator::parseFiles(bool) + 370
12  0x100a2ed67  main + 12263
ld: Assertion failed: (resultIndex < sectData.atoms.size()), function findAtom, file Relocations.cpp, line 1336.
collect2: error: ld returned 1 exit status
gprbuild: link of aflex.adb failed
gprbuild: failed command was: /users/runner/.config/alire/cache/dependencies/gnat_native_13.1.0_071d715c/bin/gcc aflex.o b__aflex.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/ascan_dfa.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/ascan_io.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/int_io.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/parse_goto.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/parse_shift_reduce.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/parse_tokens.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/vstrings.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/tstring.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/command_line_interface.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/misc_defs.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/misc.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/ccl.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/ecs.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/external_file_manager.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/nfa.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/aflex_scanner.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/sym.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/parser.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/main_body.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/scanner.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/template_manager-templates.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/skeleton_manager.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/template_manager.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/gen.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/tblcmp.o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/dfa.o -s -L/Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/ -L/Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/obj/ -L/users/runner/.config/alire/cache/dependencies/gnat_native_13.1.0_071d715c/lib/gcc/x86_64-apple-darwin21.6.0/13.1.0/adalib/ /users/runner/.config/alire/cache/dependencies/gnat_native_13.1.0_071d715c/lib/gcc/x86_64-apple-darwin21.6.0/13.1.0/adalib/libgnat.a -Wl,-rpath,@executable_path/..//obj -Wl,-rpath,@executable_path/../../../../../../..//.config/alire/cache/dependencies/gnat_native_13.1.0_071d715c/lib/gcc/x86_64-apple-darwin21.6.0/13.1.0/adalib -o /Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/bin//aflex
stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/aflex.gpr"] exited with code 4
ERROR: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/aflex.gpr"] exited with code 4
stderr: ALIRE.CHECKED_ERROR
stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/Users/runner/work/alire-crates-ci/alire-crates-ci/test/d530d527-3205-432b-b9df-864d84b993d0/aflex_1.6.0_b3c21d99/aflex.gpr"] exited with code 4
stderr: raised ALIRE.CHECKED_ERROR : alire-stored-error:1
Load address: 0x102a86000
Call stack traceback locations:
0x10338e415 0x103061e83 0x103274df9 0x103275581 0x1031d5ac3 0x1031d3f99 0x1031f0873 0x10323cdc1 0x10323b81a 0x1031f09b8 0x1031d4349 0x102ae59c1 0x102af6578 0x102afb01c 0x102b8105c 0x102b8c3b8 0x102a87605 0x102a8a914


Warning: aflex=1.6.0 successfully retrieved but its build failed.
There are no dependencies.
ERROR: Build ended with errors
