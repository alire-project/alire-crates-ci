badge: false
crate: ada_language_server
creation_timestamp: 1648624711.647628
distro: darwin-20.6.0
duration: 23.986946664000016
gnat: 11.2.4
last_attempt: 2022-08-16 12:37:35.152675+00:00
log:
- 'Test ran at 2022-08-16 12:37:35.152539+00:00


  '
- 'SOLUTION:

  '
- 'ada_language_server=22.0.0: An implementation of the Microsoft''s Language Server
  Protocol for Ada

  '
- 'Origin: source archive als-22.0.0.tar.gz at https://github.com/AdaCore/ada_language_server/archive/refs/tags/v22.0.0.tar.gz
  with hash sha512:ef4bdf41315aad09750e85521657aefaaee419739aac4dec6e182691b8b5282face19481a113e710f7c4b21f6e6f51296d1872aaf5c1c3ab19b6774d142c021c

  '
- 'Properties:

  '
- '   Author: AdaCore

  '
- '   Description: An implementation of the Microsoft''s Language Server Protocol
  for Ada

  '
- '   Environment: ADA_PROJECT_PATH=${CRATE_ROOT}/subprojects/stubs

  '
- '   GPR External: LIBRARY_TYPE := static

  '
- '   License: GPL-3.0-only

  '
- '   Maintainer: Maxim Reznik <reznikmm@gmail.com>

  '
- '   Maintainers_Logins: reznikmm

  '
- '   Name: ada_language_server

  '
- '   Project_File: gnat/lsp_server.gpr

  '
- '   Tag: lsp

  '
- '   Tag: vscode

  '
- '   Version: 22.0.0

  '
- '   Website: https://github.com/AdaCore/ada_language_server

  '
- 'Dependencies (direct):

  '
- '   libadalang22.0.0

  '
- '   libadalang_tools22.0.0

  '
- '   spawn22.0.0

  '
- '   vss22.0.0

  '
- 'Dependencies (solution):

  '
- '   gnat=11.2.4 (gnat_native) (installed)

  '
- '   gnatcoll=22.0.0

  '
- '   gnatcoll_gmp=22.0.0

  '
- '   gnatcoll_iconv=22.0.0

  '
- '   langkit_support=22.0.0

  '
- '   libadalang=22.0.0

  '
- '   libadalang_tools=22.0.0

  '
- '   libgmp=6.2.1

  '
- '   libgpr=22.0.0

  '
- '   spawn=22.0.0

  '
- '   vss=22.0.0

  '
- '   xmlada=22.0.0

  '
- 'Dependencies (graph):

  '
- "   ada_language_server=22.0.0 --> libadalang=22.0.0 (22.0.0)                  \
  \      \n"
- "   ada_language_server=22.0.0 --> libadalang_tools=22.0.0 (22.0.0)            \
  \      \n"
- "   ada_language_server=22.0.0 --> spawn=22.0.0 (22.0.0)                       \
  \      \n"
- "   ada_language_server=22.0.0 --> vss=22.0.0 (22.0.0)                         \
  \      \n"
- "   gnatcoll=22.0.0            --> libgpr=22.0.0 (~22.0.0)                     \
  \      \n"
- "   gnatcoll_gmp=22.0.0        --> gnatcoll=22.0.0 (~22.0.0)                   \
  \      \n"
- "   gnatcoll_gmp=22.0.0        --> libgmp=6.2.1 (*)                            \
  \      \n"
- "   gnatcoll_iconv=22.0.0      --> gnatcoll=22.0.0 (~22.0.0)                   \
  \      \n"
- "   langkit_support=22.0.0     --> gnatcoll=22.0.0 (^22)                       \
  \      \n"
- "   langkit_support=22.0.0     --> gnatcoll_iconv=22.0.0 (^22)                 \
  \      \n"
- "   libadalang=22.0.0          --> gnatcoll=22.0.0 (^22)                       \
  \      \n"
- "   libadalang=22.0.0          --> gnatcoll_gmp=22.0.0 (^22)                   \
  \      \n"
- "   libadalang=22.0.0          --> gnatcoll_iconv=22.0.0 (^22)                 \
  \      \n"
- "   libadalang=22.0.0          --> langkit_support=22.0.0 (^22)                \
  \      \n"
- "   libadalang_tools=22.0.0    --> libadalang=22.0.0 (22.0.0)                  \
  \      \n"
- "   libgpr=22.0.0              --> gnat=11.2.4 (gnat_native) (/=2020)          \
  \      \n"
- "   libgpr=22.0.0              --> xmlada=22.0.0 (~22.0.0)                     \
  \      \n"
- '   vss=22.0.0                 --> gnat=11.2.4 (gnat_native) (>=2020|(>=11 & <=2000))

  '
- "   xmlada=22.0.0              --> gnat=11.2.4 (gnat_native) (>=11)            \
  \      \n"
- '

  '
- '

  LOG:

  '
- 'Note: Deploying ada_language_server=22.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- "##=O#- #                                                                      \n"
- 'Note: Deploying libgmp=6.2.1...

  '
- 'Note: Deploying spawn=22.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- 'Note: Deploying vss=22.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- 'Note: Deploying xmlada=22.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- "##=O#- #                                                                      \n"
- 'Note: Running post_fetch actions for xmlada=22.0.0...

  '
- 'checking build system type... x86_64-apple-darwin20.6.0

  '
- 'checking host system type... x86_64-apple-darwin20.6.0

  '
- 'checking target system type... x86_64-apple-darwin20.6.0

  '
- 'checking whether gnat can build shared libs... yes

  '
- 'checking for a BSD-compatible install... /usr/bin/install -c

  '
- 'checking whether ln -s works... yes

  '
- 'configure: creating ./config.status

  '
- 'config.status: creating xmlada_shared.gpr

  '
- 'config.status: creating Makefile

  '
- 'config.status: creating tests/dom/default.gpr

  '
- 'Note: Deploying libgpr=22.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- "##=O#- #                                                                      \n"
- 'Note: Deploying gnatcoll=22.0.0...

  '
- "#=#=#                                                                         \n"
- "##=#=#                                                                        \n"
- 'Note: Deploying gnatcoll_gmp=22.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- 'Note: Deploying gnatcoll_iconv=22.0.0...

  '
- "#=#=#                                                                         \n"
- 'Note: Deploying langkit_support=22.0.0...

  '
- "#=#=#                                                                         \n"
- '

  '
- '######################################################################## 100.0%

  '
- 'Note: Deploying libadalang=22.0.0...

  '
- "#=#=#                                                                         \n"
- '

  '
- '##################################################                        69.5%

  '
- '######################################################################## 100.0%

  '
- 'Note: Deploying libadalang_tools=22.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- "##=O#- #                                                                      \n"
- 'Note: Running post_fetch actions for libadalang_tools=22.0.0...

  '
- 'Note: Building libadalang_tools/src/lal_tools.gpr (1/2)...

  '
- 'gnatcoll.gpr:254:07: warning: value "windows" is not used as label

  '
- 'Setup

  '
- '   [mkdir]        object directory for project XmlAda_Sax

  '
- '   [mkdir]        library directory for project XmlAda_Sax

  '
- '   [mkdir]        object directory for project XmlAda_Schema

  '
- '   [mkdir]        object directory for project GPR

  '
- '   [mkdir]        library directory for project GPR

  '
- '   [mkdir]        object directory for project GnatColl

  '
- '   [mkdir]        library directory for project GnatColl

  '
- '   [mkdir]        object directory for project GnatColl_GMP

  '
- '   [mkdir]        library directory for project GnatColl_GMP

  '
- '   [mkdir]        object directory for project GnatColl_Iconv

  '
- '   [mkdir]        library directory for project GnatColl_Iconv

  '
- '   [mkdir]        object directory for project Langkit_Support

  '
- '   [mkdir]        library directory for project Langkit_Support

  '
- '   [mkdir]        object directory for project Libadalang

  '
- '   [mkdir]        library directory for project Libadalang

  '
- '   [mkdir]        object directory for project LAL_Tools

  '
- '   [mkdir]        library directory for project LAL_Tools

  '
- 'Compile

  '
- '   [Ada]          langkit_support-adalog-main_support.adb

  '
- '   [Ada]          langkit_support-symbols.adb

  '
- '   [Ada]          langkit_support-text.adb

  '
- '   [Ada]          langkit_support-lexical_envs.ads

  '
- '   [Ada]          langkit_support.ads

  '
- '   [Ada]          langkit_support-internal.ads

  '
- '   [Ada]          langkit_support-images.adb

  '
- '   [Ada]          langkit_support-hashes.adb

  '
- '   [Ada]          langkit_support-iterators.adb

  '
- '   [Ada]          langkit_support-tree_traversal_iterator.adb

  '
- '   [Ada]          langkit_support-diagnostics.adb

  '
- '   [Ada]          langkit_support-adalog-logic_ref.adb

  '
- '   [Ada]          langkit_support-errors.ads

  '
- '   [Ada]          langkit_support-boxes.adb

  '
- '   [Ada]          langkit_support-adalog-unify_lr.adb

  '
- '   [Ada]          langkit_support-adalog-predicates.adb

  '
- '   [Ada]          langkit_support-adalog-pure_relations.adb

  '
- '   [Ada]          langkit_support-adalog-relations.adb

  '
- '   [Ada]          langkit_support-symbols-precomputed.adb

  '
- '   [Ada]          langkit_support-lexical_envs_impl.adb

  '
- '   [Ada]          langkit_support-adalog-logic_var.ads

  '
- '   [Ada]          langkit_support-types.ads

  '
- '   [Ada]          langkit_support-diagnostics-output.adb

  '
- '   [Ada]          langkit_support-relative_get.adb

  '
- '   [Ada]          langkit_support-slocs.adb

  '
- '   [Ada]          langkit_support-vectors.adb

  '
- '   [Ada]          langkit_support-adalog-operations.adb

  '
- '   [Ada]          langkit_support-bump_ptr.adb

  '
- '   [Ada]          langkit_support-file_readers.adb

  '
- '   [Ada]          langkit_support-adalog-eq_same.adb

  '
- '   [Ada]          langkit_support-adalog-debug.adb

  '
- '   [Ada]          langkit_support-packrat.adb

  '
- '   [Ada]          langkit_support-generic_api-analysis.adb

  '
- '   [Ada]          langkit_support-cheap_sets.adb

  '
- '   [Ada]          langkit_support-generic_api.adb

  '
- '   [Ada]          langkit_support-adalog.ads

  '
- '   [Ada]          langkit_support-adalog-unify.adb

  '
- '   [Ada]          langkit_support-bump_ptr-vectors.adb

  '
- '   [Ada]          langkit_support-adalog-unify_one_side.adb

  '
- '   [Ada]          langkit_support-array_utils.adb

  '
- '   [Ada]          langkit_support-adalog-abstract_relation.adb

  '
- '   [Ada]          langkit_support-token_data_handlers.adb

  '
- '   [C]            iconv_support.c

  '
- '   [Ada]          gnatcoll-iconv.adb

  '
- '   [C]            gnatcoll-gmp-mpz_odd_p.c

  '
- '/Users/runner/work/alire-crates-ci/alire-crates-ci/test/64b17fd4-a46c-49d8-9754-e5fa3c85c851/ada_language_server_22.0.0_ef4bdf41/alire/cache/dependencies/gnatcoll_gmp_22.0.0_f3732e5d/gmp/gnatcoll-gmp-mpz_odd_p.c:20:10:
  fatal error: gmp.h: No such file or directory

  '
- '   20 | #include <gmp.h>

  '
- '      |          ^~~~~~~

  '
- 'compilation terminated.

  '
- '

  '
- '   compilation of gnatcoll-gmp-mpz_odd_p.c failed

  '
- '

  '
- 'gprbuild: *** compilation phase failed

  '
- 'stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/Users/runner/work/alire-crates-ci/alire-crates-ci/test/64b17fd4-a46c-49d8-9754-e5fa3c85c851/ada_language_server_22.0.0_ef4bdf41/alire/cache/dependencies/libadalang_tools_22.0.0_c9028428/src/lal_tools.gpr"]
  exited with code 4

  '
- 'ERROR: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/Users/runner/work/alire-crates-ci/alire-crates-ci/test/64b17fd4-a46c-49d8-9754-e5fa3c85c851/ada_language_server_22.0.0_ef4bdf41/alire/cache/dependencies/libadalang_tools_22.0.0_c9028428/src/lal_tools.gpr"]
  exited with code 4

  '
- 'stderr: ALIRE.CHECKED_ERROR

  '
- 'stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/Users/runner/work/alire-crates-ci/alire-crates-ci/test/64b17fd4-a46c-49d8-9754-e5fa3c85c851/ada_language_server_22.0.0_ef4bdf41/alire/cache/dependencies/libadalang_tools_22.0.0_c9028428/src/lal_tools.gpr"]
  exited with code 4

  '
- 'stderr: raised ALIRE.CHECKED_ERROR : alire-stored-error:1

  '
- 'Load address: 0x10c6d6000

  '
- 'Call stack traceback locations:

  '
- '0x10cfde12d 0x10ccb3867 0x10cec60d9 0x10cec6861 0x10ce26dc7 0x10ce2529d 0x10ce41b77
  0x10ce8e0a9 0x10ce8c6aa 0x10ce41cbc 0x10ce2564d 0x10c738f01 0x10c749ab8 0x10c74e55c
  0x10c7d459c 0x10c7df8f8 0x10c6dab45 0x10c6dde54

  '
- '

  '
- '

  '
- 'Warning: ada_language_server=22.0.0 successfully retrieved but its build failed.

  '
- 'Dependencies were solved as follows:

  '
- '

  '
- '   +i gnat             11.2.4 (new,installed,gnat_native,indirect)

  '
- "   +  gnatcoll         22.0.0 (new,indirect)                      \n"
- "   +  gnatcoll_gmp     22.0.0 (new,indirect)                      \n"
- "   +  gnatcoll_iconv   22.0.0 (new,indirect)                      \n"
- "   +  langkit_support  22.0.0 (new,indirect)                      \n"
- "   +  libadalang       22.0.0 (new)                               \n"
- "   +  libadalang_tools 22.0.0 (new)                               \n"
- "   +  libgmp           6.2.1  (new,indirect)                      \n"
- "   +  libgpr           22.0.0 (new,indirect)                      \n"
- "   +  spawn            22.0.0 (new)                               \n"
- "   +  vss              22.0.0 (new)                               \n"
- "   +  xmlada           22.0.0 (new,indirect)                      \n"
- 'ERROR: Build ended with errors

  '
platform: macos
status: failing
version: 22.0.0
