Test ran at 2025-02-04 22:28:48.900100+00:00

SOLUTION:
mold_lib=2.2.1: Meta-variable Operations for Lean Development (lib)
Origin: commit 9048c6c22e2c8a0d7b3ba8a59190fd86373389ee from https://github.com//rocher/mold_lib.git
Properties:
   Author: Francesc Rocher
   Build Switches: 
   Description: Meta-variable Operations for Lean Development (lib)
   License: MIT
   Long_Description: [![Alire](https://img.shields.io/endpoint?url=https://alire.ada.dev/badges/mold_lib.json)](https://alire.ada.dev/crates/mold_lib.html)
[![Alire CI/CD](https://img.shields.io/endpoint?url=https://alire-crate-ci.ada.dev/badges/mold_lib.json)](https://alire-crate-ci.ada.dev/crates/mold_lib.html)
![unit-test](https://github.com/rocher/mold_lib/actions/workflows/unit-test.yml/badge.svg)
[![codecov](https://codecov.io/gh/rocher/mold_lib/graph/badge.svg?token=LB83SI4I0Y)](https://codecov.io/gh/rocher/mold_lib)
[![GitHub release](https://img.shields.io/github/release/rocher/mold_lib.svg)](https://github.com/rocher/mold_lib/releases/latest)
[![License](https://img.shields.io/github/license/rocher/mold_lib.svg?color=blue)](https://github.com/rocher/mold_lib/blob/master/LICENSE)

## Welcome to **Mold (lib)**

> **MOLD**: *Meta-variable Operations for Lean Development*

Mold is a Template Processor, or Template Engine, to work with repository
templates. The main motivation of Mold is to have repositories in GitHub used
as template repositories to create new, customized repositories for other
users.

Main features supported in Mold include

  * variable replacement in mold files (*.mold)

  * for a given directory, variable replacement recursively for all mold files
    in all subdirectories

  * variable replacement in file names

  * inclusion of other templates

  * definition of variables with a simple TOML file

  * predefined and custom text filters to easy text transformations

Variable replacement can be specified as *normal*, *optional* or *mandatory*.
For example, the variable `foo = "bar"` can be specified with `{{foo}}`,
`{{?foo}}` (optional) or `{{#foo}}` (mandatory). The difference is the handling
of errors when an undefined variable is encountered.

All mold files must end with the extension `.mold`, for example
`README.md.mold`. Destination files (with variables replaced) have the same
name without the mold extension: `README.md`. This simplifies the work done in
large subdirectories with few templates.

This crate contains the Ada library and unit tests. For a CLI tool, please
take a look at the crate `mold`.

## Reference Guide

Please visit [Mold documentation](https://rocher.github.io/mold) for more
information.

---
## License
MIT (c) 2023 Francesc Rocher

   Maintainer: Francesc Rocher <francesc.rocher@gmail.com>
   Maintainers_Logins: rocher
   Name: mold_lib
   Tag: template
   Tag: template-engine
   Tag: template-repo
   Version: 2.2.1
   Website: https://rocher.github.io/mold
Dependencies (direct):
   ada_toml~0.3.0
   gnat>=2021 | (>=12 & <2000)
   simple_logging^1.2.0
Dependencies (solution):
   ada_toml=0.3.0
   gnat=14.2.1 (gnat_native)
   simple_logging=1.2.0
Dependencies (graph):
   mold_lib=2.2.1 --> ada_toml=0.3.0 (~0.3.0)
   mold_lib=2.2.1 --> gnat=14.2.1 (gnat_native) (>=2021 | (>=12 & <2000))
   mold_lib=2.2.1 --> simple_logging=1.2.0 (^1.2.0)


LOG:
Spawning: alr -d -n get --build mold_lib=2.2.1
Note: Deploying mold_lib=2.2.1...
Note: Deploying ada_toml=0.3.0...

#=#=#                                                                          
##O#-#                                                                         
##O=#  #                                                                       
#=#=-#  #                                                                      
 #=#=-#   #                                                                    
Note: Deploying simple_logging=1.2.0...
Note: Building mold_lib=2.2.1/mold_lib.gpr...
Setup
   [mkdir]        object directory for project Ada_TOML
   [mkdir]        library directory for project Ada_TOML
   [mkdir]        object directory for project Simple_Logging
   [mkdir]        library directory for project Simple_Logging
   [mkdir]        object directory for project Mold_Lib
   [mkdir]        library directory for project Mold_Lib
Compile
   [Ada]          simple_logging.adb
   [Ada]          simple_logging-decorators.adb
   [Ada]          simple_logging-support.adb
   [Ada]          simple_logging-filtering.adb
   [Ada]          toml-generic_parse.adb
   [Ada]          toml.adb
   [Ada]          toml-generic_dump.adb
   [Ada]          toml-file_io.adb
   [Ada]          mold_lib_config.ads
   [Ada]          text_filters_data.ads
   [Ada]          predefined_text_filters.adb
   [Ada]          text_filters.adb
   [Ada]          custom_text_filters.ads
   [Ada]          log_exceptions.adb
+===========================GNAT BUG DETECTED==============================+
| 14.2.0 (x86_64-pc-linux-gnu) Storage_Error stack overflow or erroneous memory access|
| Error detected at text_filters-parse.adb:74:4                            |
| Compiling /home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/src/text_filters/impl/text_filters.adb|
| Please submit a bug report; see https://gcc.gnu.org/bugs/ .              |
| Use a subject line meaningful to you and us to track the bug.            |
| Include the entire contents of this bug box in the report.               |
| Include the exact command that you entered.                              |
| Also include sources listed below.                                       |
+==========================================================================+

Please include these source files with error report
Note that list may not be accurate in some cases,
so please double check that the problem can still
be reproduced with the set of files listed.
Consider also -gnatd.n switch (see debug.adb).

/home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/src/text_filters/impl/text_filters.adb
/home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/src/text_filters/text_filters.ads
/home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/src/text_filters/custom_text_filters.ads
/home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/src/text_filters/impl/text_filters_data.ads
/root/.local/share/alire/builds/simple_logging_1.2.0_506f0bb3/5516f8b0967f51d9b8f44bdb7b43aeac3ef7ed97adbc1c8ef74866c95a7c2a44/src/simple_logging.ads
/home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/src/text_filters/impl/predefined_text_filters.ads
/home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/src/text_filters/impl/text_filters-parse.adb

compilation abandoned

   compilation of text_filters.adb failed

gprbuild: *** compilation phase failed
stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/mold_lib.gpr"] exited with code 4
ERROR: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/mold_lib.gpr"] exited with code 4
stderr: ALIRE.CHECKED_ERROR
stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/home/runner/work/alire-crates-ci/alire-crates-ci/test/a46a1fe6-b30e-4dd6-9db6-ee9bfb2b6eaa/mold_lib_2.2.1_9048c6c2/mold_lib.gpr"] exited with code 4
stderr: raised ALIRE.CHECKED_ERROR : alire-stored-error:1
[/usr/sbin/alr]
0xe16f5e Alire.Raise_Checked_Error at alire.adb:284
0xa845be Alire.Os_Lib.Subprocess.Checked_Spawn at alire-os_lib-subprocess.adb:111
0xcef7be Alire.Spawn.Command at alire-spawn.adb:21
0xcefdde Alire.Spawn.Gprbuild at alire-spawn.adb:41
0xc31d1f Alire.Roots.Build at alire-roots.adb:186
0xc304da Alire.Roots.Build at alire-roots.adb:252
0xc53d6f Alire.Roots.Traverse at alire-roots.adb:2075
0xcba1fd Alire.Solutions.Traverse.Visit at alire-solutions.adb:1480
0xcb9344 Alire.Solutions.Traverse at alire-solutions.adb:1563
0xc53e62 Alire.Roots.Traverse at alire-roots.adb:2079
0xc53f21 Alire.Roots.Traverse at alire-roots.adb:2059
0xc30a46 Alire.Roots.Build at alire-roots.adb:283
0xc30b2b Alire.Roots.Build at alire-roots.adb:111
0x4a5e38 Alr.Commands.Get.Retrieve at alr-commands-get.adb:205
0x4a94f3 Alr.Commands.Get.Execute at alr-commands-get.adb:378
0x4a96a1 Alr.Commands.Get.Execute at alr-commands-get.adb:256
0x533c96 Alr.Commands.Sub_Cmd.Execute at clic-subcommand-instance.adb:749
0x53eff7 Alr.Commands.Execute at alr-commands.adb:561
0x43953a Alr.Main at alr-main.adb:13
0x43c1d3 Main at b__alr-main.adb:2299
[/usr/bin/..//lib/libc.so.6]
0x7fc57ba5ce06
0x7fc57ba5ceca
[/usr/sbin/alr]
0x4393dc _start at ???
0xfffffffffffffffe


Warning: mold_lib=2.2.1 successfully retrieved but its build failed.
Dependencies were solved as follows:

   +  ada_toml       0.3.0  (new)
   +b gnat           14.2.1 (new,gnat_native,binary)
   +  simple_logging 1.2.0  (new)
ERROR: Build ended with errors
