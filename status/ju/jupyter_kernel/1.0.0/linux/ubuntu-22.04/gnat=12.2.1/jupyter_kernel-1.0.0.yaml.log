Test ran at 2024-10-05 00:44:01.973185+00:00

SOLUTION:
jupyter_kernel=1.0.0: Jupyter Kernel for Ada
Origin: commit 8c987c134f1b92978aa4c4a528309685925f4bd9 from https://github.com/reznikmm/jupyter.git
Available when: (case OS is Linux => True, Macos => True, others => False)
Properties:
   Author: Max Reznik
   Description: Jupyter Kernel for Ada
   GPR External: LIBRARY_TYPE := relocatable
   License: BSD-3-Clause
   Long_Description: # Jupyter Kernel for Ada

To run this kernel with Jupyter Notebook:
    alr get --build jupyter_kernel
    cd jupyter_kernel*
    ln -s ./alire/build/.objs .
    PATH=$PATH:$PWD/alire/build/.objs/driver JUPYTER_PATH=$PWD jupyter-notebook --debug

   Maintainer: Max Reznik <reznikmm@gmail.com>
   Maintainers_Logins: reznikmm
   Name: jupyter_kernel
   Project_File: gnat/jupyter_ada_kernel.gpr
   Project_File: gnat/jupyter_ada_driver.gpr
   Tag: jupyter
   Tag: notebook
   Tag: kernel
   Version: 1.0.0
   Website: https://github.com/reznikmm/jupyter/
Dependencies (direct):
   matreshka_league*
   spawn*
   zeromq_ada*
Dependencies (solution):
   libzmq=4.3.4
   make=4.3.0
   matreshka_league=21.0.0
   spawn=23.0.0
   zeromq_ada=4.1.5
Dependencies (graph):
   jupyter_kernel=1.0.0    --> matreshka_league=21.0.0 (*)
   jupyter_kernel=1.0.0    --> spawn=23.0.0 (*)           
   jupyter_kernel=1.0.0    --> zeromq_ada=4.1.5 (*)       
   matreshka_league=21.0.0 --> make=4.3.0 (*)             
   zeromq_ada=4.1.5        --> libzmq=4.3.4 (*)           


LOG:
Note: Deploying jupyter_kernel=1.0.0...
Note: Deploying libzmq=4.3.4...
The system package 'libzmq3-dev' is about to be installed.
This action might require admin privileges and impact your system installation.
Do you want Alire to install this system package?
Using default: Yes
Selecting previously unselected package libgssrpc4:amd64.
(Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 266970 files and directories currently installed.)
Preparing to unpack .../00-libgssrpc4_1.19.2-2ubuntu0.4_amd64.deb ...
Unpacking libgssrpc4:amd64 (1.19.2-2ubuntu0.4) ...
Selecting previously unselected package libkdb5-10:amd64.
Preparing to unpack .../01-libkdb5-10_1.19.2-2ubuntu0.4_amd64.deb ...
Unpacking libkdb5-10:amd64 (1.19.2-2ubuntu0.4) ...
Selecting previously unselected package libkadm5srv-mit12:amd64.
Preparing to unpack .../02-libkadm5srv-mit12_1.19.2-2ubuntu0.4_amd64.deb ...
Unpacking libkadm5srv-mit12:amd64 (1.19.2-2ubuntu0.4) ...
Selecting previously unselected package libkadm5clnt-mit12:amd64.
Preparing to unpack .../03-libkadm5clnt-mit12_1.19.2-2ubuntu0.4_amd64.deb ...
Unpacking libkadm5clnt-mit12:amd64 (1.19.2-2ubuntu0.4) ...
Selecting previously unselected package comerr-dev:amd64.
Preparing to unpack .../04-comerr-dev_2.1-1.46.5-2ubuntu1.2_amd64.deb ...
Unpacking comerr-dev:amd64 (2.1-1.46.5-2ubuntu1.2) ...
Selecting previously unselected package krb5-multidev:amd64.
Preparing to unpack .../05-krb5-multidev_1.19.2-2ubuntu0.4_amd64.deb ...
Unpacking krb5-multidev:amd64 (1.19.2-2ubuntu0.4) ...
Selecting previously unselected package libmd-dev:amd64.
Preparing to unpack .../06-libmd-dev_1.0.4-1build1_amd64.deb ...
Unpacking libmd-dev:amd64 (1.0.4-1build1) ...
Selecting previously unselected package libbsd-dev:amd64.
Preparing to unpack .../07-libbsd-dev_0.11.5-1_amd64.deb ...
Unpacking libbsd-dev:amd64 (0.11.5-1) ...
Selecting previously unselected package libnorm-dev:amd64.
Preparing to unpack .../08-libnorm-dev_1.5.9+dfsg-2_amd64.deb ...
Unpacking libnorm-dev:amd64 (1.5.9+dfsg-2) ...
Selecting previously unselected package libpgm-dev:amd64.
Preparing to unpack .../09-libpgm-dev_5.3.128~dfsg-2_amd64.deb ...
Unpacking libpgm-dev:amd64 (5.3.128~dfsg-2) ...
Selecting previously unselected package libsodium-dev:amd64.
Preparing to unpack .../10-libsodium-dev_1.0.18-1build2_amd64.deb ...
Unpacking libsodium-dev:amd64 (1.0.18-1build2) ...
Selecting previously unselected package libkrb5-dev:amd64.
Preparing to unpack .../11-libkrb5-dev_1.19.2-2ubuntu0.4_amd64.deb ...
Unpacking libkrb5-dev:amd64 (1.19.2-2ubuntu0.4) ...
Selecting previously unselected package libzmq3-dev:amd64.
Preparing to unpack .../12-libzmq3-dev_4.3.4-2_amd64.deb ...
Unpacking libzmq3-dev:amd64 (4.3.4-2) ...
Setting up libnorm-dev:amd64 (1.5.9+dfsg-2) ...
Setting up libgssrpc4:amd64 (1.19.2-2ubuntu0.4) ...
Setting up libpgm-dev:amd64 (5.3.128~dfsg-2) ...
Setting up comerr-dev:amd64 (2.1-1.46.5-2ubuntu1.2) ...
Setting up libsodium-dev:amd64 (1.0.18-1build2) ...
Setting up libmd-dev:amd64 (1.0.4-1build1) ...
Setting up libbsd-dev:amd64 (0.11.5-1) ...
Setting up libkadm5clnt-mit12:amd64 (1.19.2-2ubuntu0.4) ...
Setting up libkdb5-10:amd64 (1.19.2-2ubuntu0.4) ...
Setting up libkadm5srv-mit12:amd64 (1.19.2-2ubuntu0.4) ...
Setting up krb5-multidev:amd64 (1.19.2-2ubuntu0.4) ...
Setting up libkrb5-dev:amd64 (1.19.2-2ubuntu0.4) ...
Setting up libzmq3-dev:amd64 (4.3.4-2) ...
Processing triggers for libc-bin (2.35-0ubuntu3.8) ...
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for install-info (6.8-4build1) ...
NEEDRESTART-VER: 3.5
NEEDRESTART-KCUR: 6.8.0-1014-azure
NEEDRESTART-KEXP: 6.8.0-1014-azure
NEEDRESTART-KSTA: 1
NEEDRESTART-SVC: runner-provisioner.service
Note: Deploying make=4.3.0...
Note: Deploying spawn=23.0.0...
#=#=#                                                                         
##O#-#                                                                        
Note: Deploying matreshka_league=21.0.0...
#=#=#                                                                         

                                                                           1.2%
####                                                                       6.9%
############                                                              17.8%
#############################                                             41.2%
################################################################          88.9%
######################################################################## 100.0%
Note: Running post_fetch actions for matreshka_league=21.0.0...
gnatmake -p -j0  -Pgnat/tools_configure.gpr
Setup
   [mkdir]        object directory for project Tools_Configure
Compile
   [Ada]          configure-driver.adb
   [Ada]          configure.adb
   [Ada]          configure-architecture.adb
   [Ada]          configure-instantiate.adb
   [Ada]          configure-internals.adb
   [Ada]          configure-rtl_version.adb
   [Ada]          configure-tests.ads
   [Ada]          configure-tests-asis.adb
   [Ada]          configure-tests-aws.adb
   [Ada]          configure-tests-firebird.adb
   [Ada]          configure-tests-gprbuild.adb
   [Ada]          configure-tests-install.adb
   [Ada]          configure-tests-installation_directories.adb
   [Ada]          configure-tests-modules.ads
   [Ada]          configure-tests-modules-amf.adb
   [Ada]          configure-tests-mysql.adb
   [Ada]          configure-tests-oci.adb
   [Ada]          configure-tests-operating_system.adb
   [Ada]          configure-tests-postgresql.adb
   [Ada]          configure-tests-sqlite3.adb
   [Ada]          configure-tests-valgrind.adb
   [Ada]          configure-version.adb
   [Ada]          configure-builder.adb
   [Ada]          configure-abstract_tests.adb
   [Ada]          configure-pkg_config.adb
   [Ada]          configure-component_switches.adb
Bind
   [gprbind]      configure-driver.bexch
   [Ada]          configure-driver.ali
Link
   [link]         configure-driver.adb
./configure
[os        ] detecting target operating system...: POSIX
[gprbuild  ] looking for GPRbuild...: /home/runner/.config/alire/cache/dependencies/gprbuild_22.0.1_24dfc1b5/bin/gprbuild
[gprbuild  ] checking GPRbuild version...: ok
[gprbuild  ] looking for GPRinstall...: /home/runner/.config/alire/cache/dependencies/gprbuild_22.0.1_24dfc1b5/bin/gprinstall
[asis      ] checking whether ASIS library is available...: no
[aws       ] checking whether AWS library is available...: no
[modules   ] checking whether to build AMF module...: yes
[mysql     ] checking whether to build MySQL module...: yes (mysql_config)
[mysql     ] checking for linker switches...: "-L/usr/lib/x86_64-linux-gnu", "-lmysqlclient", "-lzstd", "-lssl", "-lcrypto", "-lresolv", "-lm"
[mysql     ] checking whether MySQL library is usable...: yes
[mysql     ] checking whether MySQL server can be used for testing...: no
[oci       ] checking whether to build Oracle module...: no (not found)
configure: (info) Oracle driver module is disabled
[postgresql] checking whether to build PostgreSQL module...: yes (pg_config)
[postgresql] checking whether PostgreSQL library is usable...: yes
[sqlite3   ] checking whether to build SQLite3 module...: yes (pkg-config)
[sqlite3   ] checking for SQLite3 version...: 
[sqlite3   ] checking for linker switches...: "-lsqlite3"
[sqlite3   ] checking whether SQLite3 library is usable...: yes
[firebird  ] checking whether to build Firebird module...: yes (try default)
[firebird  ] checking whether Firebird library is usable...: no
configure: (info) Firebird driver module is disabled
configure: VALGRIND => 
configure: HAS_FIREBIRD => 
configure: MYSQL_LIBRARY_OPTIONS => "-L/usr/lib/x86_64-linux-gnu", "-lmysqlclient", "-lzstd", "-lssl", "-lcrypto", "-lresolv", "-lm"
configure: HAS_GPRINSTALL => true
configure: INSTALL => /usr/bin/install
configure: GPRDIR => /usr/local/lib/gnat
configure: GPRBUILD => /home/runner/.config/alire/cache/dependencies/gprbuild_22.0.1_24dfc1b5/bin/gprbuild
configure: HAS_SQLITE3 => true
configure: OPERATING_SYSTEM => POSIX
configure: FIREBIRD_LIBRARY_OPTIONS => 
configure: HAS_MYSQL => true
configure: VERSION => 20.0
configure: ARCHITECTURE => portable_64_le
configure: BINDIR => /usr/local/bin
configure: LIBDIR => /usr/local/lib
configure: HAS_ASIS => 
configure: HAS_GPRBUILD2014 => 
configure: HAS_POSTGRESQL => true
configure: OCI_LIBRARY_OPTIONS => 
configure: HAS_OCI => 
configure: PREFIX => /usr/local
configure: POSTGRESQL_LIBRARY_OPTIONS => "-L/usr/lib/x86_64-linux-gnu", "-lpq"
configure: GPRINSTALL => /home/runner/.config/alire/cache/dependencies/gprbuild_22.0.1_24dfc1b5/bin/gprinstall
configure: HAS_VALGRIND => 
configure: HAS_AWS => 
configure: SQLITE3_LIBRARY_OPTIONS => "-lsqlite3"
configure: HAS_WORKING_MYSQL_SERVER => 
configure: RTL_VERSION_SUFFIX => -12.2
configure: ENABLE_AMF => true
configure: creating Makefile.config
configure: creating gnat/install/matreshka_config.gpr
configure: creating gnat/matreshka_config.gpr
configure: creating source/league/matreshka-config.ads
Note: Deploying zeromq_ada=4.1.5...
#=#=#                                                                         
##O#-#                                                                        
Note: Running post_fetch actions for zeromq_ada=4.1.5...
Note: Building jupyter_kernel/gnat/jupyter_ada_kernel.gpr (1/2)...
Setup
   [mkdir]        object directory for project ZMQ
   [mkdir]        library directory for project ZMQ
   [mkdir]        object directory for project Matreshka_League
   [mkdir]        library directory for project Matreshka_League
   [mkdir]        library ALI directory for project Matreshka_League
   [mkdir]        object directory for project Jupyter
   [mkdir]        library directory for project Jupyter
   [mkdir]        library ALI directory for project Jupyter
   [mkdir]        object directory for project Spawn
   [mkdir]        library directory for project Spawn
   [mkdir]        object directory for project Jupyter_Ada_Kernel
Compile
   [Ada]          ada_kernel.adb
   [c]            posix_const.c
   [Ada]          spawn-processes.adb
   [Ada]          spawn-posix.ads
   [Ada]          spawn-processes-monitor_loop.adb
   [Ada]          spawn.ads
   [Ada]          spawn-environments.adb
   [Ada]          spawn-string_vectors.ads
ada_kernels.ads:75:15: error: subprogram "Finished" is not overriding

   compilation of ada_kernel.adb failed

gprbuild: *** compilation phase failed
stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/home/runner/work/alire-crates-ci/alire-crates-ci/test/cf3530b3-7351-4bbb-bb4d-bebd1305f793/jupyter_kernel_1.0.0_8c987c13/gnat/jupyter_ada_kernel.gpr"] exited with code 4
ERROR: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/home/runner/work/alire-crates-ci/alire-crates-ci/test/cf3530b3-7351-4bbb-bb4d-bebd1305f793/jupyter_kernel_1.0.0_8c987c13/gnat/jupyter_ada_kernel.gpr"] exited with code 4
stderr: ALIRE.CHECKED_ERROR
stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/home/runner/work/alire-crates-ci/alire-crates-ci/test/cf3530b3-7351-4bbb-bb4d-bebd1305f793/jupyter_kernel_1.0.0_8c987c13/gnat/jupyter_ada_kernel.gpr"] exited with code 4
stderr: raised ALIRE.CHECKED_ERROR : alire-stored-error:1
[/home/runner/work/alire-crates-ci/alire-crates-ci/alire_install/bin/alr]
0xd7ada2 Alire.Raise_Checked_Error at alire.adb:251
0xa423cf Alire.Os_Lib.Subprocess.Checked_Spawn at alire-os_lib-subprocess.adb:110
0xc5cdee Alire.Spawn.Command at alire-spawn.adb:21
0xc5d51c Alire.Spawn.Gprbuild at alire-spawn.adb:41
0xbc1550 Alire.Roots.Build.Build_Single_Release.Call_Gprbuild at alire-roots.adb:140
0xbbfbaf Alire.Roots.Build.Build_Single_Release at alire-roots.adb:171
0xbdb95e Alire.Roots.Traverse.Traverse_Wrap at alire-roots.adb:1364
0xc25a8b Alire.Solutions.Traverse.Visit at alire-solutions.adb:1443
0xc246a2 Alire.Solutions.Traverse at alire-solutions.adb:1518
0xbdbaac Alire.Roots.Traverse at alire-roots.adb:1368
0xbbff40 Alire.Roots.Build at alire-roots.adb:196
0x4a0334 Alr.Commands.Build.Execute at alr-commands-build.adb:58
0x4b065a Alr.Commands.Get.Retrieve at alr-commands-get.adb:187
0x4b4e77 Alr.Commands.Get.Execute at alr-commands-get.adb:348
0x53bb7e Alr.Commands.Sub_Cmd.Execute at clic-subcommand-instance.adb:742
0x54756f Alr.Commands.Execute at alr-commands.adb:492
0x43cb1a Alr.Main at alr-main.adb:10
0x43f3e7 Main at b__alr-main.adb:2132
[/lib/x86_64-linux-gnu/libc.so.6]
0x7fb1f9e29d8e
0x7fb1f9e29e3e
[/home/runner/work/alire-crates-ci/alire-crates-ci/alire_install/bin/alr]
0x43c9f8 _start at ???
0xfffffffffffffffe


Warning: jupyter_kernel=1.0.0 successfully retrieved but its build failed.
Dependencies were solved as follows:

   + libzmq           4.3.4  (new,indirect)
   + make             4.3.0  (new,indirect)
   + matreshka_league 21.0.0 (new)         
   + spawn            23.0.0 (new)         
   + zeromq_ada       4.1.5  (new)         
ERROR: Build ended with errors
