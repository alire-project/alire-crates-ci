badge: false
crate: libadalang2xml
creation_timestamp: 1711067103.7105265
distro: ubuntu-22.04
duration: 6.358435245999999
gnat: 11.2.4
last_attempt: 2024-03-22 00:28:08.330746+00:00
log:
- 'Test ran at 2024-03-22 00:28:08.330727+00:00


  '
- 'SOLUTION:

  '
- 'libadalang2xml=1.0.2: Generates XML for Ada source, using libadalang.

  '
- 'Origin: commit 99ee1dd171cd66736f38e770a751a15ad7ffc334 from https://github.com/simonjwright/libadalang2xml.git

  '
- 'Properties:

  '
- '   Author: Simon Wright

  '
- "   Build Switches: \n"
- '   Description: Generates XML for Ada source, using libadalang.

  '
- '   Executable: libadalang2xml

  '
- '   License: GPL-3.0-or-later

  '
- '   Long_Description: Libadalang2XML is a tool to extract syntatic aspects of Ada
  source code into XML.

  '
- '

  '
- 'The Ada source is initially read using [Libadalang](https://github.com/AdaCore/libadalang).
  The resulting tree is then traversed, and its structure output in an XML form.

  '
- '

  '
- 'The [document type definition](https://en.wikipedia.org/wiki/Document_type_definition)
  isn''t explicit; it''s simply derived from the tree elements created by Libadalang.
  Note that Libadalang includes much more semantic information than the surface structure
  generated by this tool, but nevertheless there''s enough there to --- for example
  --- create a scriptable body for a package spec.

  '
- '

  '
- '## Building on macOS ##

  '
- '

  '
- 'Using the standard `langkit_support`, `libadalang` crates, you **must** build with
  `LIBRARY_TYPE` set to `relocatable`.

  '
- '

  '
- 'You can obtain versions of those crates adjusted to not require those features,
  which can therefore build the (default) static libraries, by visiting https://github.com/simonjwright/alire-index.mac.

  '
- '

  '
- '## Example ##

  '
- '

  '
- 'As an example of the output, this code

  '
- '``` ada

  '
- 'package Demo is

  '
- '   procedure Square (X : in out Integer);

  '
- 'end Demo;

  '
- '```

  '
- 'generates

  '
- '``` xml

  '
- '<CompilationUnit>

  '
- '  <AdaNodeList/>

  '
- '  <LibraryItem>

  '
- '    <PrivateAbsent/>

  '
- '    <PackageDecl>

  '
- '      <DefiningName>

  '
- '        <Id>Demo</Id>

  '
- '      </DefiningName>

  '
- '      <PublicPart>

  '
- '        <AdaNodeList>

  '
- '          <SubpDecl>

  '
- '            <OverridingUnspecified/>

  '
- '            <SubpSpec>

  '
- '              <SubpKindProcedure>procedure</SubpKindProcedure>

  '
- '              <DefiningName>

  '
- '                <Id>Square</Id>

  '
- '              </DefiningName>

  '
- '              <Params>

  '
- '                <ParamSpecList>

  '
- '                  <ParamSpec>

  '
- '                    <DefiningNameList>

  '
- '                      <DefiningName>

  '
- '                        <Id>X</Id>

  '
- '                      </DefiningName>

  '
- '                    </DefiningNameList>

  '
- '                    <AliasedAbsent/>

  '
- '                    <ModeInOut>in out</ModeInOut>

  '
- '                    <SubtypeIndication>

  '
- '                      <NotNullAbsent/>

  '
- '                      <Id>Integer</Id>

  '
- '                    </SubtypeIndication>

  '
- '                  </ParamSpec>

  '
- '                </ParamSpecList>

  '
- '              </Params>

  '
- '            </SubpSpec>

  '
- '          </SubpDecl>

  '
- '        </AdaNodeList>

  '
- '      </PublicPart>

  '
- '      <EndName>

  '
- '        <Id>Demo</Id>

  '
- '      </EndName>

  '
- '    </PackageDecl>

  '
- '  </LibraryItem>

  '
- '  <PragmaNodeList/>

  '
- '</CompilationUnit>

  '
- '```

  '
- '

  '
- '   Maintainer: Simon Wright <simon@pushface.org>

  '
- '   Maintainers_Logins: simonjwright

  '
- '   Name: libadalang2xml

  '
- '   Tag: ada

  '
- '   Tag: xml

  '
- '   Version: 1.0.2

  '
- '   Website: https://github.com/simonjwright/libadalang2xml

  '
- 'Dependencies (direct):

  '
- '   libadalang*

  '
- 'Dependencies (solution):

  '
- '   adasat=24.0.0

  '
- '   gnat=11.2.4 (gnat_native)

  '
- '   gnatcoll=24.0.0

  '
- '   gnatcoll_gmp=24.0.0

  '
- '   gnatcoll_iconv=24.0.0

  '
- '   langkit_support=24.0.0

  '
- '   libadalang=24.0.0

  '
- '   libgmp=6.2.1

  '
- '   libgpr=24.0.0

  '
- '   libgpr2=24.0.0

  '
- '   xmlada=24.0.0

  '
- 'Dependencies (graph):

  '
- '   gnatcoll=24.0.0        --> libgpr=24.0.0 (~24.0.0)

  '
- '   gnatcoll_gmp=24.0.0    --> gnatcoll=24.0.0 (~24.0.0)

  '
- '   gnatcoll_gmp=24.0.0    --> libgmp=6.2.1 (*)

  '
- '   gnatcoll_iconv=24.0.0  --> gnatcoll=24.0.0 (~24.0.0)

  '
- '   langkit_support=24.0.0 --> adasat=24.0.0 (^24)

  '
- '   langkit_support=24.0.0 --> gnatcoll=24.0.0 (^24)

  '
- '   langkit_support=24.0.0 --> gnatcoll_gmp=24.0.0 (^24)

  '
- '   langkit_support=24.0.0 --> gnatcoll_iconv=24.0.0 (^24)

  '
- '   libadalang=24.0.0      --> gnatcoll=24.0.0 (^24)

  '
- '   libadalang=24.0.0      --> gnatcoll_gmp=24.0.0 (^24)

  '
- '   libadalang=24.0.0      --> gnatcoll_iconv=24.0.0 (^24)

  '
- '   libadalang=24.0.0      --> langkit_support=24.0.0 (^24)

  '
- '   libadalang=24.0.0      --> libgpr2=24.0.0 (^24)

  '
- '   libadalang2xml=1.0.2   --> libadalang=24.0.0 (*)

  '
- '   libgpr=24.0.0          --> gnat=11.2.4 (gnat_native) (/=2020)

  '
- '   libgpr=24.0.0          --> xmlada=24.0.0 (~24.0.0)

  '
- '   libgpr2=24.0.0         --> gnatcoll=24.0.0 (~24.0.0)

  '
- '   libgpr2=24.0.0         --> gnatcoll_gmp=24.0.0 (~24.0.0)

  '
- '   libgpr2=24.0.0         --> gnatcoll_iconv=24.0.0 (~24.0.0)

  '
- '   xmlada=24.0.0          --> gnat=11.2.4 (gnat_native) (>=11)

  '
- '

  '
- '

  LOG:

  '
- 'Spawning: alr -d -n get --build libadalang2xml=1.0.2

  '
- 'Note: Deploying libadalang2xml=1.0.2...

  '
- 'Note: Deploying adasat=24.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- 'Note: Deploying xmlada=24.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- "##=O#- #                                                                      \n"
- 'Note: Deploying libgpr=24.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- "##=O#- #                                                                      \n"
- 'Note: Deploying gnatcoll=24.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- "##=O#- #                                                                      \n"
- 'Note: Deploying gnatcoll_gmp=24.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- 'Note: Deploying gnatcoll_iconv=24.0.0...

  '
- "#=#=#                                                                         \n"
- 'Note: Deploying langkit_support=24.0.0...

  '
- "#=#=#                                                                         \n"
- '

  '
- '######################################################################## 100.0%

  '
- 'Note: Deploying libgpr2=24.0.0...

  '
- "#=#=#                                                                         \n"
- "##O#-#                                                                        \n"
- '

  '
- '##########################                                                37.4%

  '
- '######################################################################## 100.0%

  '
- 'Note: Deploying libadalang=24.0.0...

  '
- "#=#=#                                                                         \n"
- '

  '
- '                                                                           0.3%

  '
- '##################################################                        70.6%

  '
- '######################################################################## 100.0%

  '
- 'Note: Running post-fetch actions for xmlada=24.0.0...

  '
- 'checking build system type... x86_64-pc-linux-gnu

  '
- 'checking host system type... x86_64-pc-linux-gnu

  '
- 'checking target system type... x86_64-pc-linux-gnu

  '
- 'checking whether gnat can build shared libs... yes

  '
- 'checking for a BSD-compatible install... /usr/bin/install -c

  '
- 'checking whether ln -s works... yes

  '
- 'configure: creating ./config.status

  '
- 'config.status: creating xmlada_shared.gpr

  '
- 'config.status: creating Makefile

  '
- 'config.status: creating tests/dom/default.gpr

  '
- 'Note: Building libadalang2xml=1.0.2/libadalang2xml.gpr...

  '
- 'Setup

  '
- '   [mkdir]        object directory for project XmlAda_Sax

  '
- '   [mkdir]        library directory for project XmlAda_Sax

  '
- '   [mkdir]        object directory for project XmlAda_Schema

  '
- '   [mkdir]        object directory for project GPR

  '
- '   [mkdir]        library directory for project GPR

  '
- '   [mkdir]        object directory for project GnatColl

  '
- '   [mkdir]        library directory for project GnatColl

  '
- '   [mkdir]        object directory for project GnatColl_GMP

  '
- '   [mkdir]        library directory for project GnatColl_GMP

  '
- '   [mkdir]        object directory for project GnatColl_Iconv

  '
- '   [mkdir]        library directory for project GnatColl_Iconv

  '
- '   [mkdir]        object directory for project AdaSAT

  '
- '   [mkdir]        exec directory for project AdaSAT

  '
- '   [mkdir]        library directory for project AdaSAT

  '
- '   [mkdir]        object directory for project Langkit_Support

  '
- '   [mkdir]        library directory for project Langkit_Support

  '
- '   [mkdir]        object directory for project GPR2

  '
- '   [mkdir]        library directory for project GPR2

  '
- '   [mkdir]        object directory for project Libadalang

  '
- '   [mkdir]        library directory for project Libadalang

  '
- '   [mkdir]        object directory for project Libadalang2xml

  '
- '   [mkdir]        exec directory for project Libadalang2xml

  '
- 'Compile

  '
- '   [Ada]          libadalang2xml.adb

  '
- '   [Asm_Cpp]      config.S

  '
- '   [C]            gpr_parser-gdb.c

  '
- '   [Ada]          gpr_parser-debug.adb

  '
- 'gnat1: invalid switch: -gnat2022

  '
- '

  '
- '   compilation of libadalang2xml.adb failed

  '
- '

  '
- 'gprbuild: *** compilation phase failed

  '
- 'stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/home/runner/work/alire-crates-ci/alire-crates-ci/test/349f1f17-f84f-4b9e-bb3b-66a03adc0bf5/libadalang2xml_1.0.2_99ee1dd1/libadalang2xml.gpr"]
  exited with code 4

  '
- 'ERROR: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/home/runner/work/alire-crates-ci/alire-crates-ci/test/349f1f17-f84f-4b9e-bb3b-66a03adc0bf5/libadalang2xml_1.0.2_99ee1dd1/libadalang2xml.gpr"]
  exited with code 4

  '
- 'stderr: ALIRE.CHECKED_ERROR

  '
- 'stderr: Command ["gprbuild", "-s", "-j0", "-p", "-P", "/home/runner/work/alire-crates-ci/alire-crates-ci/test/349f1f17-f84f-4b9e-bb3b-66a03adc0bf5/libadalang2xml_1.0.2_99ee1dd1/libadalang2xml.gpr"]
  exited with code 4

  '
- 'stderr: raised ALIRE.CHECKED_ERROR : alire-stored-error:1

  '
- '[/home/runner/work/alire-crates-ci/alire-crates-ci/alire_install/bin/alr]

  '
- '0xe4810a Alire.Raise_Checked_Error at alire.adb:272

  '
- '0xa90404 Alire.Os_Lib.Subprocess.Checked_Spawn at alire-os_lib-subprocess.adb:111

  '
- '0xd153f3 Alire.Spawn.Command at alire-spawn.adb:21

  '
- '0xd15b11 Alire.Spawn.Gprbuild at alire-spawn.adb:41

  '
- '0xc45693 Alire.Roots.Build at alire-roots.adb:182

  '
- '0xc43936 Alire.Roots.Build at alire-roots.adb:248

  '
- '0xc6b083 Alire.Roots.Traverse at alire-roots.adb:2053

  '
- '0xcd9c00 Alire.Solutions.Traverse.Visit at alire-solutions.adb:1480

  '
- '0xcd8a70 Alire.Solutions.Traverse at alire-solutions.adb:1563

  '
- '0xc6b1be Alire.Roots.Traverse at alire-roots.adb:2057

  '
- '0xc6b3f5 Alire.Roots.Traverse at alire-roots.adb:2037

  '
- '0xc440f1 Alire.Roots.Build at alire-roots.adb:281

  '
- '0xc441d7 Alire.Roots.Build at alire-roots.adb:107

  '
- '0x4a4206 Alr.Commands.Get.Retrieve at alr-commands-get.adb:195

  '
- '0x4a87b2 Alr.Commands.Get.Execute at alr-commands-get.adb:368

  '
- '0x4a8a49 Alr.Commands.Get.Execute at alr-commands-get.adb:246

  '
- '0x53939b Alr.Commands.Sub_Cmd.Execute at clic-subcommand-instance.adb:749

  '
- '0x54587e Alr.Commands.Execute at alr-commands.adb:561

  '
- '0x436183 Alr.Main at alr-main.adb:13

  '
- '0x438de1 Main at b__alr-main.adb:2257

  '
- '[/lib/x86_64-linux-gnu/libc.so.6]

  '
- '0x7f2f76a29d8e

  '
- '0x7f2f76a29e3e

  '
- '[/home/runner/work/alire-crates-ci/alire-crates-ci/alire_install/bin/alr]

  '
- '0x43601c _start at ???

  '
- '0xfffffffffffffffe

  '
- '

  '
- '

  '
- 'Warning: libadalang2xml=1.0.2 successfully retrieved but its build failed.

  '
- 'Dependencies were solved as follows:

  '
- '

  '
- '   +  adasat          24.0.0 (new,indirect)

  '
- '   +b gnat            11.2.4 (new,gnat_native,indirect,binary)

  '
- '   +  gnatcoll        24.0.0 (new,indirect)

  '
- '   +  gnatcoll_gmp    24.0.0 (new,indirect)

  '
- '   +  gnatcoll_iconv  24.0.0 (new,indirect)

  '
- '   +  langkit_support 24.0.0 (new,indirect)

  '
- '   +  libadalang      24.0.0 (new)

  '
- '   +b libgmp          6.2.1  (new,indirect,system package)

  '
- '   +  libgpr          24.0.0 (new,indirect)

  '
- '   +  libgpr2         24.0.0 (new,indirect)

  '
- '   +  xmlada          24.0.0 (new,indirect)

  '
- 'ERROR: Build ended with errors

  '
platform: linux
status: failing
version: 1.0.2
